{"version":3,"sources":["src/typescript/GUIConfig.ts","src/typescript/events/Dispatcher.ts","src/typescript/ui/GraphicElement.ts","src/typescript/events/EventType.ts","src/typescript/ui/VideoElement.ts","src/typescript/ui/LoaderElement.ts","src/typescript/ui/ErrorElement.ts","src/typescript/ui/PlaybackElement.ts","src/typescript/ui/HeaderElement.ts","src/typescript/ui/CuePointElement.ts","src/typescript/ui/CuePointsElement.ts","src/typescript/ui/ProgressbarElement.ts","src/typescript/ui/controlbuttons/PlayElement.ts","src/typescript/ui/controlbuttons/VolumeElement.ts","src/typescript/ui/controlbuttons/QualityMenuElement.ts","src/typescript/ui/controlbuttons/QualityElement.ts","src/typescript/ui/controlbuttons/SubtitlesElement.ts","src/typescript/ui/controlbuttons/FullscreenElement.ts","src/typescript/ui/controlbuttons/ControlButtonsElement.ts","src/typescript/ui/ControlElement.ts","src/typescript/ui/UnmuteElement.ts","src/typescript/ui/MainElement.ts","src/typescript/StormPlayer.ts","src/typescript/LibraryManager.ts"],"names":[],"mappings":"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","file":"stormplayer.js","sourcesContent":["export class GUIConfig\n{\n\n    private containerID : string;\n    private width : number;\n    private height : number;\n\n    private bigPlaybackButton : boolean = true;\n    private timeline : boolean = true;\n    private guiHideSeconds : number = 3;\n    private title : string = null;\n    private subtitle : string = null;\n    private playerDisconnectedText : string = 'Disconnected from stream server.';\n    private serversFailedText : string = 'Failed to connect to the stream server.';\n    private compatibilityErrorText : string = 'Your device is not compatible with the available video source.';\n    private noSSLErrorText : string = 'This connection requires an SSL layer.';\n    private videoErrorText : string = 'Disconnected from stream server.';\n    private videoNotFoundText : string = 'Stream with given name was not found.';\n    private videoStopText : string = 'The stream has ended.';\n    private incompatiblePlayerProtocolText : string = 'This player version is not compatible with the provided streaming server.';\n    private liveText : string = \"LIVE\";\n    private unmuteText : string = 'UNMUTE SOUND';\n\n    constructor(guiConfig : any) {\n        if(!guiConfig.containerID)\n            throw new Error(\"containerID is not defined in guiConfig\");\n\n        if(!guiConfig.width)\n            throw new Error(\"width is not defined in guiConfig\");\n\n        if(!guiConfig.height)\n            throw new Error(\"height is not defined in guiConfig\");\n\n        this.containerID = guiConfig.containerID;\n        this.width = guiConfig.width;\n        this.height = guiConfig.height;\n\n        if(typeof guiConfig.timeline != \"undefined\")\n            this.timeline = guiConfig.timeline;\n\n        if(typeof guiConfig.bigPlaybackButton != \"undefined\")\n            this.bigPlaybackButton = guiConfig.bigPlaybackButton;\n\n        if(guiConfig.guiHideSeconds)\n            this.guiHideSeconds = guiConfig.guiHideSeconds;\n\n        if(guiConfig.title)\n            this.title = guiConfig.title;\n\n        if(guiConfig.subtitle)\n            this.subtitle = guiConfig.subtitle;\n\n        if(guiConfig.unmuteText)\n            this.unmuteText = guiConfig.unmuteText;\n\n        if(guiConfig.playerDisconnectedText)\n            this.playerDisconnectedText = guiConfig.playerDisconnectedText;\n\n        if(guiConfig.serversFailedText)\n            this.serversFailedText = guiConfig.serversFailedText;\n\n        if(guiConfig.compatibilityErrorText)\n            this.compatibilityErrorText = guiConfig.compatibilityErrorText;\n\n        if(guiConfig.noSSLErrorText)\n            this.noSSLErrorText = guiConfig.noSSLErrorText;\n\n        if(guiConfig.videoErrorText)\n            this.videoErrorText = guiConfig.videoErrorText;\n\n        if(guiConfig.videoNotFoundText)\n            this.videoNotFoundText = guiConfig.videoNotFoundText;\n\n        if(guiConfig.videoStopText)\n            this.videoStopText = guiConfig.videoStopText;\n\n        if(guiConfig.liveText)\n            this.liveText = guiConfig.liveText;\n\n    }\n\n    public setIncompatiblePlayerProtocolText(value : string) : void{\n        this.incompatiblePlayerProtocolText = value;\n    }\n\n    public getIncompatiblePlayerProtocolText() : string{\n        return this.incompatiblePlayerProtocolText;\n    }\n\n    public setTimeline(value : boolean) : void{\n        this.timeline = value;\n    }\n\n    public getTimeline() : boolean{\n        return this.timeline;\n    }\n\n    public setLiveText(value : string) : void{\n        this.liveText = value;\n    }\n\n    public getLiveText() : string{\n        return this.liveText;\n    }\n\n    public setVideoStopText(value : string) : void{\n        this.videoStopText = value;\n    }\n\n    public getVideoStopText() : string{\n        return this.videoStopText;\n    }\n\n    public isBigPlaybackButton(): boolean {\n        return this.bigPlaybackButton;\n    }\n\n    public setBigPlaybackButton(value: boolean) {\n        this.bigPlaybackButton = value;\n    }\n\n    public getContainerID(): string {\n        return this.containerID;\n    }\n\n    public setGuiHideSeconds(value: number) {\n        this.guiHideSeconds = value;\n    }\n\n    public getGuiHideSeconds(): number {\n        return this.guiHideSeconds;\n    }\n\n    public setContainerID(value: string) {\n        this.containerID = value;\n    }\n\n    public getWitdth(): number {\n        return this.width;\n    }\n\n    public setWidth(value: number) {\n        this.width = value;\n    }\n\n    public getHeight(): number {\n        return this.height;\n    }\n\n    public setHeight(value: number) {\n        this.height = value;\n    }\n\n    public getTitle(): string {\n        return this.title;\n    }\n\n    public setTitle(value: string) {\n        this.title = value;\n    }\n\n    public getSubtitle(): string {\n        return this.subtitle;\n    }\n\n    public setSubtitle(value: string) {\n        this.subtitle = value;\n    }\n\n    public getUnmuteText(): string {\n        return this.unmuteText;\n    }\n\n    public setUnmuteText(value: string) {\n        this.unmuteText = value;\n    }\n\n    public getPlayerDisconnectedText(): string {\n        return this.playerDisconnectedText;\n    }\n\n    public setPlayerDisconnectedText(value: string) {\n        this.playerDisconnectedText = value;\n    }\n\n    public getServersFailedText(): string {\n        return this.serversFailedText;\n    }\n\n    public setServersFailedText(value: string) {\n        this.serversFailedText = value;\n    }\n\n    public getCompatibilityErrorText(): string {\n        return this.compatibilityErrorText;\n    }\n\n    public setCompatibilityErrorText(value: string) {\n        this.compatibilityErrorText = value;\n    }\n\n    public getNoSSLErrorText(): string {\n        return this.noSSLErrorText;\n    }\n\n    public setNoSSLErrorText(value: string) {\n        this.noSSLErrorText = value;\n    }\n\n    public getVideoErrorText(): string {\n        return this.videoErrorText;\n    }\n\n    public setVideoErrorText(value: string) {\n        this.videoErrorText = value;\n    }\n\n    public getVideoNotFoundText(): string {\n        return this.videoNotFoundText;\n    }\n\n    public setVideoNotFoundText(value: string) {\n        this.videoNotFoundText = value;\n    }\n}","export class Dispatcher {\n\n    private events: any;\n\n    constructor() {\n        this.events = {};\n    }\n\n    addEventListener(event: any, callback: any) : boolean {\n        // Check if the callback is not a function\n        if (typeof callback !== 'function') {\n            console.error(`The listener callback must be a function, the given type is ${typeof callback}`);\n            return false;\n        }\n        // Check if the event is not a string\n        if (typeof event !== 'string') {\n            console.error(`The event name must be a string, the given type is ${typeof event}`);\n            return false;\n        }\n\n        // Create the event if not exists\n        if (this.events[event] === undefined) {\n            this.events[event] = {\n                listeners: []\n            }\n        }\n\n        this.events[event].listeners.push(callback);\n        return true;\n    }\n\n\n    removeEventListener(event: any, callback: any) : boolean {\n        // Check if this event not exists\n        if (this.events[event] === undefined) {\n            console.error(`This event: ${event} does not exist`);\n            return false;\n        }\n\n        this.events[event].listeners = this.events[event].listeners.filter((listener: any) => {\n            return listener.toString() !== callback.toString();\n        });\n    }\n\n    dispatch(event: any, details: any = null) : boolean {\n        // Check if this event not exists\n        if (this.events[event] === undefined)\n            return false;\n\n\n        this.events[event].listeners.forEach((listener: any) => {\n            listener(details);\n        });\n        return true;\n    }\n\n}","import {StormPlayer} from \"../StormPlayer\";\n\nexport class GraphicElement {\n\n        protected stormPlayer: StormPlayer;\n\n        protected htmlElement: HTMLElement;\n        protected tagName: string;\n        protected className: string;\n\n        constructor(stormPlayer: StormPlayer, className : string = \"\", tagName: string = 'div') {\n                this.className = className;\n                this.tagName = tagName;\n                this.stormPlayer = stormPlayer;\n                this.draw();\n                this.attachListeners();\n        }\n\n        public getHtmlElement() : HTMLElement{\n                return this.htmlElement;\n        }\n\n        public remove() : void{\n                this.htmlElement.remove();\n        }\n\n        public hide() : void{\n                this.htmlElement.classList.add(\"sp-hidden\");\n        }\n\n        public show() : void{\n                this.htmlElement.classList.remove(\"sp-hidden\");\n        }\n\n        protected draw() : void{\n                this.htmlElement = document.createElement(this.tagName);\n                if(this.className != '')\n                        this.htmlElement.className = this.className;\n                this.htmlElement.innerHTML = ``;\n        }\n\n        protected attachListeners() : void{\n\n        }\n\n}","export enum EventType {\n\n    GUI_INITIALIZED = \"interfaceReady\",\n    LIBRARY_CREATED = \"libraryCreated\",\n    LIBRARY_INITIALIZED = \"libraryInitialized\",\n\n    PLAY_CLICKED = \"playClick\",\n    PAUSE_CLICKED = \"pauseClick\",\n    TOGGLE_CLICKED = \"videoClick\",\n    MUTE_CLICKED = \"muteClick\",\n    UNMUTE_CLICKED = \"unmuteClick\",\n    QUALITY_CLICKED = \"qualityBtnClick\",\n\n    QUALITY_CHANGED = \"qualityChange\",\n    VOLUME_CHANGED = \"volumeChange\",\n\n    FULLSCREEN_ENTERED = \"fullscreenEnter\",\n    FULLSCREEN_EXITED = \"fullscreenExit\",\n\n    ERROR_SHOWN = \"errorMessage\",\n    GUI_SHOWN = \"guiShow\",\n    GUI_HIDED = \"guiHide\",\n\n    TITLE_SETTED = \"titleAdd\",\n    SUBTITLE_SETTED = \"subtitleAdd\",\n\n    SEEK_STARTED = \"seekStart\",\n    SEEK_ENDED = \"seekEnd\",\n    SEEK_SETTED = \"seekTo\",\n\n    CUEPOINT_ADDED = \"cuePointAdd\",\n    CUEPOINT_REMOVED = \"cuePointRemove\",\n\n}","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {EventType} from \"../events/EventType\";\n\nexport class VideoElement extends GraphicElement {\n\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-container__box');\n\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.htmlElement.setAttribute(\"id\", this.stormPlayer.getInstanceID());\n\n    }\n\n    protected attachListeners(): void {\n        let that = this;\n\n        that.htmlElement.addEventListener(\"click\", function () {\n            that.stormPlayer.dispatch(EventType.TOGGLE_CLICKED);\n        });\n\n    }\n}","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {EventType} from \"../events/EventType\";\n\nexport class LoaderElement extends GraphicElement {\n\n\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-loader');\n\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.htmlElement.innerHTML = '<svg width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" stroke=\"#fff\">\\n' +\n            '            <g fill=\"none\" fill-rule=\"evenodd\">\\n' +\n            '              <g transform=\"translate(1 1)\" stroke-width=\"2\">\\n' +\n            '                <circle stroke-opacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\" />\\n' +\n            '                <path d=\"M36 18c0-9.94-8.06-18-18-18\">\\n' +\n            '                  <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 18 18\" to=\"360 18 18\" dur=\"1s\"\\n' +\n            '                    repeatCount=\"indefinite\" />\\n' +\n            '                </path>\\n' +\n            '              </g>\\n' +\n            '            </g>\\n' +\n            '          </svg>';\n\n        this.hide();\n    }\n\n\n    protected attachListeners(): void {\n        let that = this;\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_CREATED, function(){\n\n            that.stormPlayer.getLibrary().addEventListener(\"playerStart\", function(){\n                that.show();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoConnecting\", function(){\n                that.show();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoBufforing\", function(){\n                that.show();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoPlay\", function(){\n                that.hide();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoPause\", function(){\n                that.hide();\n            });\n\n            that.stormPlayer.addEventListener(EventType.ERROR_SHOWN, function(){\n                that.hide();\n            });\n\n        });\n\n    }\n}","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {EventType} from \"../events/EventType\";\n\nexport class ErrorElement extends GraphicElement {\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-error');\n\n    }\n\n    public showErrorMessage(message : string){\n        this.htmlElement.querySelector('span').innerHTML = message;\n        this.show();\n        this.stormPlayer.dispatch(EventType.ERROR_SHOWN);\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.htmlElement.innerHTML = `<svg width=\"72\" height=\"72\" viewBox=\"0 0 72 72\">\n        <defs>\n        <filter id=\"ynnx5kr06a\">\n        <feColorMatrix in=\"SourceGraphic\"\n        values=\"0 0 0 0 0.875877 0 0 0 0 0.056962 0 0 0 0 0.198697 0 0 0 1.000000 0\" />\n            </filter>\n            </defs>\n            <g fill=\"none\" fill-rule=\"evenodd\">\n        <g filter=\"url(#ynnx5kr06a)\" transform=\"translate(-764 -536)\">\n        <g>\n            <path d=\"M0 0L72 0 72 72 0 72z\" transform=\"translate(764 536)\" />\n        <path fill=\"#000\" fill-rule=\"nonzero\"\n        d=\"M36 21c-9.93 0-18 8.07-18 18 0 4.98 2.04 9.45 5.28 12.72l4.26-4.26C25.35 45.3 24 42.33 24 39c0-6.63 5.37-12 12-12s12 5.37 12 12c0 3.33-1.35 6.3-3.54 8.46l4.26 4.26C51.96 48.45 54 43.98 54 39c0-9.93-8.07-18-18-18zm0-12C19.44 9 6 22.44 6 39c0 8.28 3.36 15.78 8.79 21.21l4.26-4.26C14.7 51.63 12 45.63 12 39c0-13.26 10.74-24 24-24 7.59 0 14.34 3.51 18.72 9h7.26C56.79 15.03 47.1 9 36 9zm0 24c-3.3 0-6 2.7-6 6 0 1.65.69 3.15 1.77 4.23C32.85 44.31 34.35 45 36 45c1.65 0 3.15-.69 4.23-1.77C41.31 42.15 42 40.65 42 39c0-3.3-2.7-6-6-6zm24-3h6v18h-6V30zm0 24h6v6h-6v-6z\"\n        transform=\"translate(764 536)\" />\n            </g>\n            </g>\n            </g>\n            </svg>\n<span></span>`;\n\n        this.hide();\n    }\n\n\n    protected attachListeners(): void {\n        let that = this;\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_CREATED, function() {\n\n            that.stormPlayer.getLibrary().addEventListener(\"playerDisconnected\", function (e:any) {\n                that.showErrorMessage(that.stormPlayer.getGuiConfig().getPlayerDisconnectedText());\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"onAllServersFailed\", function (e:any) {\n                that.showErrorMessage(that.stormPlayer.getGuiConfig().getServersFailedText());\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"compatibilityError\", function (e:any) {\n                that.showErrorMessage(that.stormPlayer.getGuiConfig().getCompatibilityErrorText());\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"noSLLError\", function (e:any) {\n                that.showErrorMessage(that.stormPlayer.getGuiConfig().getNoSSLErrorText());\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoError\", function (e:any) {\n                that.showErrorMessage(that.stormPlayer.getGuiConfig().getVideoErrorText());\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoNotFound\", function (e:any) {\n                that.showErrorMessage(that.stormPlayer.getGuiConfig().getVideoNotFoundText());\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoStop\", function (e:any) {\n                that.showErrorMessage(that.stormPlayer.getGuiConfig().getVideoStopText());\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"incompatiblePlayerProtocol\", function (e:any) {\n                that.showErrorMessage(that.stormPlayer.getGuiConfig().getIncompatiblePlayerProtocolText());\n            });\n\n        });\n    }\n\n\n}","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {EventType} from \"../events/EventType\";\n\nexport class PlaybackElement extends GraphicElement {\n\n    private dontShowPlayback : boolean = false;\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-playback');\n\n        if(this.stormPlayer.getGuiConfig().isBigPlaybackButton() === false)\n            this.hide();\n\n    }\n\n    public show(): void {\n        if(this.stormPlayer.getGuiConfig().isBigPlaybackButton() === false || this.dontShowPlayback)\n            return;\n        super.show();\n    }\n\n    protected draw() : void{\n        super.draw();\n\n\n        this.htmlElement.innerHTML = `<svg class=\"sp-play-icon\" width=\"43\" height=\"53\" viewBox=\"0 0 72 72\">\n                    <g  fill=\"#fff\" fill-rule=\"evenodd\">\n                      <g id=\"path\" fill=\"#fff\">\n                        <g>\n                          <path\n                            d=\"M13.51 7.681l9.252 13.57c.945 1.386.587 3.276-.799 4.221-.504.344-1.1.528-1.711.528H1.748C.07 26-1.29 24.64-1.29 22.962c0-.61.184-1.207.528-1.711L8.49 7.68c.945-1.386 2.835-1.743 4.221-.798.314.214.585.485.8.798z\"\n                            transform=\"translate(-221 -954) translate(290 947) rotate(90 11 15) scale(3.6)\" />\n                        </g>\n                      </g>\n                    </g>    \n                  </svg>\n                  `;\n\n        this.hide();\n\n    }\n\n    protected attachListeners() : void{\n        let that = this;\n        this.htmlElement.addEventListener('click', function() {\n            that.stormPlayer.dispatch(EventType.PLAY_CLICKED);\n        });\n\n        this.stormPlayer.addEventListener(EventType.SEEK_STARTED, function(){\n            that.dontShowPlayback = true;\n        });\n\n        this.stormPlayer.addEventListener(EventType.SEEK_ENDED, function(){\n            that.dontShowPlayback = false;\n        });\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_CREATED, function() {\n\n            that.stormPlayer.getLibrary().addEventListener(\"playerReady\", function () {\n                that.show();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"interactionRequired\", function (e:any) {\n                that.show();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoConnecting\", function(){\n                that.hide();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoPlay\", function () {\n                that.hide();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoPause\", function () {\n                that.show();\n            });\n\n        });\n    }\n\n\n}\n","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {EventType} from \"../events/EventType\";\n\nexport class HeaderElement extends GraphicElement {\n\n    private shadowElement: GraphicElement;\n    private wrapperElement: GraphicElement;\n    private liveIconElement: GraphicElement;\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-header');\n\n    }\n\n    public show(): void {\n        this.htmlElement.classList.remove(\"sp-controls--hidden\");\n    }\n\n    public hide(): void {\n        this.htmlElement.classList.add(\"sp-controls--hidden\");\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.shadowElement = new GraphicElement(this.stormPlayer, \"sp-header__shadow\");\n        this.htmlElement.appendChild(this.shadowElement.getHtmlElement());\n\n        this.wrapperElement = new GraphicElement(this.stormPlayer, \"sp-header__wrapper\");\n        this.htmlElement.appendChild(this.wrapperElement.getHtmlElement());\n\n        this.wrapperElement.getHtmlElement().innerHTML = '<h2 class=\"sp-header__text sp-header__title\"></h2><p class=\"sp-header__text sp-header__sub-title\"></p>';\n\n        this.liveIconElement = new GraphicElement(this.stormPlayer, \"sp-live-icon\");\n        this.htmlElement.appendChild(this.liveIconElement.getHtmlElement());\n\n        this.liveIconElement.getHtmlElement().innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n              <g fill=\"none\" fill-rule=\"evenodd\">\n                <g>\n                  <g>\n                    <path d=\"M0 0H24V24H0z\" transform=\"translate(-1301 -243) translate(1301 243)\" />\n                    <path fill=\"#df0f33\" fill-rule=\"nonzero\"\n                      d=\"M7.76 16.24C6.67 15.16 6 13.66 6 12c0-1.66.67-3.16 1.76-4.24l1.42 1.42C8.45 9.9 8 10.9 8 12c0 1.1.45 2.1 1.17 2.83l-1.41 1.41zm8.48 0C17.33 15.16 18 13.66 18 12c0-1.66-.67-3.16-1.76-4.24l-1.42 1.42C15.55 9.9 16 10.9 16 12c0 1.1-.45 2.1-1.17 2.83l1.41 1.41zM12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm8 2c0 2.21-.9 4.21-2.35 5.65l1.42 1.42C20.88 17.26 22 14.76 22 12c0-2.76-1.12-5.26-2.93-7.07l-1.42 1.42C19.1 7.79 20 9.79 20 12zM6.35 6.35L4.93 4.93C3.12 6.74 2 9.24 2 12c0 2.76 1.12 5.26 2.93 7.07l1.42-1.42C4.9 16.21 4 14.21 4 12c0-2.21.9-4.21 2.35-5.65z\"\n                      transform=\"translate(-1301 -243) translate(1301 243)\" />\n                  </g>\n                </g>\n              </g>\n            </svg>\n\n            <span class=\"sp-live-icon__text\" id=\"sp-live-icon-text\">${this.stormPlayer.getGuiConfig().getLiveText()}</span>`;\n    }\n\n    public setTitle(title : string): void{\n        this.wrapperElement.getHtmlElement().querySelector(\"h2\").innerHTML = title;\n        this.stormPlayer.dispatch(EventType.TITLE_SETTED, title);\n    }\n\n    public setSubtitle(subtitle : string): void{\n        this.wrapperElement.getHtmlElement().querySelector(\"p\").innerHTML = subtitle;\n        this.stormPlayer.dispatch(EventType.SUBTITLE_SETTED, subtitle);\n    }\n\n    protected attachListeners(): void {\n        let that = this;\n        this.stormPlayer.addEventListener(EventType.GUI_SHOWN, function(){\n            that.show();\n        });\n\n        this.stormPlayer.addEventListener(EventType.GUI_HIDED, function(){\n            that.hide();\n        });\n    }\n\n}","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {EventType} from \"../events/EventType\";\n\nexport class CuePointElement extends GraphicElement {\n\n    private time : number;\n    private title : string;\n\n    constructor(stormPlayer: StormPlayer, title : string, time : number) {\n        super(stormPlayer, \"sp-cue-points__item\", \"span\");\n\n        this.time = time;\n        this.title = title;\n\n        this.htmlElement.setAttribute(\"data-title\", this.title);\n        this.htmlElement.addEventListener('mousedown', function (e) {\n            stormPlayer.getLibrary().seek(time);\n        });\n\n        this.hide();\n    }\n\n    public getTitle() : string{\n        return this.title;\n    }\n\n    public getTime() : number{\n        return this.time;\n    }\n\n    protected draw(): void {\n        super.draw();\n\n        this.htmlElement.innerHTML = `<svg width=\"32\" height=\"29\" viewBox=\"0 0 32 29\">\n                        <defs>\n                            <linearGradient id=\"j7tevhbxvc\" x1=\"4.09%\" x2=\"102%\" y1=\"34.996%\" y2=\"66.653%\">\n                                <stop offset=\"0%\" stop-color=\"#FFAA5A\"></stop>\n                                <stop offset=\"100%\" stop-color=\"#FF785A\"></stop>\n                            </linearGradient>\n                            <filter id=\"33nbyogp2a\" width=\"347.1%\" height=\"556%\" x=\"-123.5%\" y=\"-174.8%\" filterUnits=\"objectBoundingBox\">\n                                <feOffset dy=\"4\" in=\"SourceAlpha\" result=\"shadowOffsetOuter1\"></feOffset>\n                                <feGaussianBlur in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\" stdDeviation=\"5.5\"></feGaussianBlur>\n                                <feColorMatrix in=\"shadowBlurOuter1\" values=\"0 0 0 0 0.845910114 0 0 0 0 0.344176545 0 0 0 0 0.0722088167 0 0 0 0.254263284 0\"></feColorMatrix>\n                            </filter>\n                            <path id=\"qxoxvdy78b\" d=\"M735.753 913.86l4.796 5.481c.363.416.321 1.048-.094 1.412-.183.16-.417.247-.659.247h-9.592c-.553 0-1-.448-1-1 0-.242.088-.476.247-.659l4.796-5.48c.364-.417.996-.459 1.412-.095.033.03.064.06.094.094z\"></path>\n                        </defs>\n                        <g fill=\"none\" fill-rule=\"evenodd\">\n                            <g>\n                                <g transform=\"translate(-719 -898) matrix(1 0 0 -1 0 1834)\">\n                                    <use fill=\"#000\" filter=\"url(#33nbyogp2a)\" xlink:href=\"#qxoxvdy78b\"></use>\n                                    <use fill=\"url(#j7tevhbxvc)\" xlink:href=\"#qxoxvdy78b\"></use>\n                                </g>\n                            </g>\n                        </g>\n                    </svg>`;\n\n    }\n\n\n}","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {CuePointElement} from \"./CuePointElement\";\nimport {ProgressbarElement} from \"./ProgressbarElement\";\nimport {EventType} from \"../events/EventType\";\n\nexport class CuePointsElement extends GraphicElement {\n\n    private progressbarElement : ProgressbarElement;\n    private list : Array<CuePointElement> = new Array<CuePointElement>();\n\n    constructor(stormPlayer: StormPlayer, progressbarElement: ProgressbarElement) {\n        super(stormPlayer, \"sp-cue-points\");\n        this.progressbarElement = progressbarElement;\n    }\n\n    public addCuePoint(title : string, time : number) : void {\n        let cuePoint : CuePointElement = new CuePointElement(this.stormPlayer, title, time);\n        this.list.push(cuePoint);\n        this.htmlElement.appendChild(cuePoint.getHtmlElement());\n    }\n\n    public removeCuePoint(time : number) : void{\n        let indexesToRemove = [];\n        for(let i=0;i<this.list.length;i++){\n            if(this.list[i].getTime() == time){\n                this.list[i].remove();\n                indexesToRemove.push(i);\n            }\n        }\n        for(let i=0;i<indexesToRemove.length;i++){\n            this.list.splice(indexesToRemove[i], 1);\n        }\n    }\n\n    public refreshCuePointsPosition() : void{\n        for(let i=0;i<this.list.length;i++){\n            let cuePointPercentPosition = this.timeToPercent(this.list[i].getTime());\n            let xPosition = (cuePointPercentPosition*this.htmlElement.clientWidth)/100;\n\n            this.list[i].getHtmlElement().style.left = `${xPosition}px`;\n            this.list[i].show();\n\n            if(xPosition < 0)\n                this.removeCuePoint(this.list[i].getTime());\n        }\n    }\n\n    /*\n    Gets percent on timeline based on time\n    */\n    public timeToPercent(time: number): number {\n        time -= this.progressbarElement.getProgressBarStartTime();\n        let progressBarEndTime = this.progressbarElement.getProgressBarEndTime()-this.progressbarElement.getProgressBarStartTime();\n        let percent = (time*100)/progressBarEndTime;\n        return percent;\n    }\n\n    protected attachListeners() : void {\n        let that = this;\n\n        this.stormPlayer.addEventListener(EventType.CUEPOINT_ADDED, function(e:any){\n            that.addCuePoint(e.title, e.time);\n        });\n\n        this.stormPlayer.addEventListener(EventType.CUEPOINT_REMOVED, function(e:any){\n            that.removeCuePoint(e.time);\n        });\n\n    }\n\n}","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {CuePointsElement} from \"./CuePointsElement\";\nimport {EventType} from \"../events/EventType\";\n\nexport class ProgressbarElement extends GraphicElement {\n\n    /*\n    HTML elements\n     */\n    private cuePointsElement: CuePointsElement;\n    private progressElement: HTMLProgressElement;\n    private progressEndElement: GraphicElement;\n    private seekElement: HTMLInputElement;\n    private seekTooltipElement: GraphicElement;\n    private thumbElement: GraphicElement;\n\n    /*\n    Server data\n     */\n    private streamDuration: number;\n    private sourceDuration: number;\n    private sourceStartTime: number;\n    private dvrCacheSize: number;\n    private streamStartTime: number;\n\n    /*\n    Calculated data\n     */\n    private progressBarStartTime: number;\n    private progressBarEndTime: number;\n    private progressBarCurrTime: number;\n\n    /*\n    Auxiliary variables\n     */\n    private lastSeekUpdateTime : number;\n    private stopRefreshBar: boolean = false;\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, \"sp-progress\");\n\n    }\n\n    /*\n    Gets seconds time elapsed by percent\n     */\n    public percentToTime(percent: number): number {\n\n        if (percent < 0)\n            percent = 0;\n\n        if (percent > 100)\n            percent = 100;\n\n        percent = 100 - percent;\n\n        let endTime = this.dvrCacheSize;\n        let percentTime = Math.round((endTime * percent) / 100);\n\n        return percentTime;\n\n    }\n\n    /*\n    Sets thumb & bar position while mouse seeking\n     */\n    public setPosition(percent: number): void {\n        let maxThumbPos = this.seekElement.clientWidth;\n        maxThumbPos -= 15; //offset right\n        let thumbPos = (maxThumbPos * percent) / 100;\n        thumbPos += 5; //offset left\n        this.thumbElement.getHtmlElement().style.transform = `translateX(${thumbPos}px)`;\n\n        this.progressElement.setAttribute(\"min\", \"0\");\n        this.progressElement.setAttribute(\"max\", \"100\");\n        this.progressElement.setAttribute(\"value\", percent.toString());\n    }\n\n    /*\n    Library seek\n    */\n    public seekTo(percent: number): void {\n\n        let percentTime = this.percentToTime(percent);\n        let seekTime = this.progressBarEndTime - percentTime;\n\n        let seekDate:Date = new Date(seekTime);\n\n        let seekHours = seekDate.getHours();\n        let seekMinutes = \"0\" + seekDate.getMinutes();\n        let seekSeconds = \"0\" + seekDate.getSeconds();\n\n        let formattedSeekTime = seekHours + ':' + seekMinutes.substr(-2) + ':' + seekSeconds.substr(-2);\n\n        //console.log(\"percent: \"+percent+\"%, equals: \"+formattedSeekTime+\", seekUnixTime: \"+seekTime);\n\n        /*\n        Prevent too frequent update\n         */\n        if(this.lastSeekUpdateTime == seekTime)\n          return;\n\n        this.lastSeekUpdateTime = seekTime;\n\n        this.stormPlayer.dispatch(EventType.SEEK_SETTED, {seekToTime: seekTime})\n    }\n\n    /*\n    Refreshes the bar based on new server data\n     */\n    public refreshBar(): void {\n        if (this.stopRefreshBar)\n            return;\n\n        if (!this.stormPlayer.getGuiConfig().getTimeline() || this.dvrCacheSize < 1000 * 5)\n            this.hide();\n        else {\n            this.show();\n\n\n\n            this.progressElement.setAttribute(\"min\", \"0\");\n            this.progressElement.setAttribute(\"max\", (this.progressBarEndTime - this.progressBarStartTime).toString());\n            this.progressElement.setAttribute(\"value\", (this.progressBarCurrTime - this.progressBarStartTime).toString());\n\n\n            let maxThumbPos = this.seekElement.clientWidth;\n            maxThumbPos -= 15; //offset right\n\n            let thumbPos = maxThumbPos * (this.progressBarCurrTime - this.progressBarStartTime) / (this.progressBarEndTime - this.progressBarStartTime);\n            thumbPos += 5; //offset left\n            this.thumbElement.getHtmlElement().style.transform = `translateX(${thumbPos}px)`;\n            this.thumbElement.show();\n\n            this.cuePointsElement.refreshCuePointsPosition();\n        }\n    }\n\n    /*\n    Parses server data\n     */\n    public parseServerData(data:any): void {\n\n        this.streamDuration = data.streamDuration;              // how long does our stream works\n        this.sourceDuration = data.sourceDuration;              // how long is the source broadcasting\n        this.sourceStartTime = data.sourceStartTime;            // when the source was started\n        this.streamStartTime = data.streamStartTime;            // when our stream was started\n        this.dvrCacheSize = data.dvrCacheSize;                  // how many ms does the DVR Cache hold at this point\n\n        this.progressBarStartTime = this.sourceStartTime + this.sourceDuration - this.dvrCacheSize;\n        this.progressBarEndTime = this.sourceStartTime + this.sourceDuration;\n        this.progressBarCurrTime = this.streamStartTime + this.streamDuration;\n\n        //workaround\n        if (this.progressBarCurrTime > this.progressBarEndTime)\n            this.progressBarCurrTime = this.progressBarEndTime;\n\n        //easy to read dates\n\n        let startDVR:number = this.progressBarStartTime;\n        let endDVR:number = this.progressBarEndTime;\n        let currTimePos:number = this.progressBarCurrTime;\n\n        let startDVRDate:Date = new Date(startDVR);\n        let endDVRDate:Date = new Date(endDVR);\n        let dvrSize:Date = new Date(this.dvrCacheSize);\n        let currTimePosDate:Date = new Date(currTimePos);\n\n        let startHours = startDVRDate.getHours();\n        let startMinutes = \"0\" + startDVRDate.getMinutes();\n        let startSeconds = \"0\" + startDVRDate.getSeconds();\n\n        let endHours = endDVRDate.getHours();\n        let endMinutes = \"0\" + endDVRDate.getMinutes();\n        let endSeconds = \"0\" + endDVRDate.getSeconds();\n\n        let dvrMinutes = \"0\" + dvrSize.getMinutes();\n        let dvrSeconds = \"0\" + dvrSize.getSeconds();\n\n        let currHours = currTimePosDate.getHours();\n        let currMinutes = \"0\" + currTimePosDate.getMinutes();\n        let currSeconds = \"0\" + currTimePosDate.getSeconds();\n\n        let formattedStartTime = startHours + ':' + startMinutes.substr(-2) + ':' + startSeconds.substr(-2);\n        let formattedEndTime = endHours + ':' + endMinutes.substr(-2) + ':' + endSeconds.substr(-2);\n        let formattedSize = dvrMinutes.substr(-2) + ':' + dvrSeconds.substr(-2);\n        let formattedCurrTime = currHours + ':' + currMinutes.substr(-2) + ':' + currSeconds.substr(-2);\n\n        //console.log(formattedStartTime+ \" / \"+formattedEndTime+\" (total seconds in storage: \"+formattedSize+\") now position: \"+formattedCurrTime);\n\n        this.refreshBar();\n\n    }\n\n    /*\n    Sets tooltip position based on mouse X\n     */\n    public updateTooltip(mouseX: number): void {\n\n        if (mouseX < 0)\n            mouseX = 0;\n        else if (mouseX > this.seekElement.clientWidth)\n            mouseX = this.seekElement.clientWidth;\n\n        let maxPos = this.seekElement.clientWidth;\n        let percentPosition = (mouseX * 100) / maxPos;\n        let percentTimeSeconds = this.percentToTime(percentPosition) / 1000;\n        let tooltipText = percentTimeSeconds > 0 ? \"-\" + this.secondsToNicetime(percentTimeSeconds) : this.stormPlayer.getGuiConfig().getLiveText();\n\n        this.seekTooltipElement.getHtmlElement().innerHTML = tooltipText;\n\n\n        if (mouseX < 34)\n            mouseX = 34;\n        else if (mouseX > maxPos - 25)\n            mouseX = maxPos - 25;\n\n        this.seekTooltipElement.getHtmlElement().style.left = `${mouseX + 5}px`;\n\n    }\n\n    public secondsToNicetime(seconds: number): string {\n        const h = Math.floor(seconds / 3600);\n        const m = Math.floor((seconds % 3600) / 60);\n        const s = Math.round(seconds % 60);\n        return [\n            h,\n            m > 9 ? m : (h ? '0' + m : m || '0'),\n            s > 9 ? s : '0' + s\n        ].filter(Boolean).join(':');\n    }\n\n    protected draw(): void {\n        super.draw();\n\n        this.cuePointsElement = new CuePointsElement(this.stormPlayer, this);\n        this.htmlElement.appendChild(this.cuePointsElement.getHtmlElement());\n\n        this.thumbElement = new GraphicElement(this.stormPlayer, \"sp-progress-thumb\");\n        this.htmlElement.appendChild(this.thumbElement.getHtmlElement());\n        this.thumbElement.hide();\n\n        this.progressElement = document.createElement('progress');\n        this.progressElement.className = 'sp-progress-bar';\n        this.progressElement.setAttribute(\"value\", \"0\");\n        this.progressElement.setAttribute(\"min\", \"0\");\n        this.progressElement.setAttribute(\"max\", \"100\");\n        this.htmlElement.appendChild(this.progressElement);\n\n        this.progressEndElement = new GraphicElement(this.stormPlayer, \"sp-progress-bar__end\", \"span\");\n        this.htmlElement.appendChild(this.progressEndElement.getHtmlElement());\n\n        this.seekElement = document.createElement('input');\n        this.seekElement.className = 'sp-seek';\n        this.seekElement.setAttribute(\"min\", \"0\");\n        this.seekElement.setAttribute(\"type\", \"range\");\n        this.seekElement.setAttribute(\"step\", \"0.001\");\n        this.seekElement.setAttribute(\"max\", \"100\");\n        this.htmlElement.appendChild(this.seekElement);\n\n        this.seekTooltipElement = new GraphicElement(this.stormPlayer, 'sp-seek__tooltip');\n        this.htmlElement.appendChild(this.seekTooltipElement.getHtmlElement());\n\n        this.hide();\n\n\n    }\n\n    public getProgressBarStartTime() : number{\n        return this.progressBarStartTime;\n    }\n\n    public getProgressBarEndTime() : number{\n        return this.progressBarEndTime;\n    }\n\n    public getProgressBarCurrTime() : number{\n        return this.progressBarCurrTime;\n    }\n\n    protected attachListeners(): void {\n\n        let that = this;\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_CREATED, function () {\n            that.stormPlayer.getLibrary().addEventListener(\"videoProgress\", function (e:any) {\n                that.parseServerData(e);\n            });\n        });\n\n        this.seekElement.addEventListener('input', function (e) {\n            that.setPosition(parseFloat(this.value));\n        });\n\n        this.seekElement.addEventListener('mousemove', function (e) {\n            let rect = that.seekElement.getBoundingClientRect();\n            let xPosition = e.clientX - rect.left;\n            that.updateTooltip(xPosition);\n        });\n\n        this.seekElement.addEventListener('mousedown', function (e) {\n            that.stopRefreshBar = true;\n\n            that.stormPlayer.dispatch(EventType.SEEK_STARTED);\n           // that.stormPlayer.dispatch(EventType.PAUSE_CLICKED);\n\n        });\n\n        this.seekElement.addEventListener('mouseup', function (e) {\n            that.stopRefreshBar = false;\n            that.seekTo(parseFloat(this.value));\n\n            that.stormPlayer.dispatch(EventType.SEEK_ENDED);\n            //that.stormPlayer.dispatch(EventType.PLAY_CLICKED);\n\n        });\n    }\n\n}","import {GraphicElement} from \"../GraphicElement\";\nimport {StormPlayer} from \"../../StormPlayer\";\nimport {EventType} from \"../../events/EventType\";\n\nexport class PlayElement extends GraphicElement {\n\n    private playButtonElement : HTMLButtonElement;\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-play');\n\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.playButtonElement = document.createElement(\"button\");\n        this.playButtonElement.className = 'sp-play__button';\n        this.playButtonElement.innerHTML = `<svg class=\"sp-play-icon\" width=\"17\" height=\"22\" viewBox=\"0 2 21 26\">\n                    <g fill=\"none\" fill-rule=\"evenodd\">\n                      <g fill=\"#000\">\n                        <g>\n                          <path\n                            d=\"M13.51 7.681l9.252 13.57c.945 1.386.587 3.276-.799 4.221-.504.344-1.1.528-1.711.528H1.748C.07 26-1.29 24.64-1.29 22.962c0-.61.184-1.207.528-1.711L8.49 7.68c.945-1.386 2.835-1.743 4.221-.798.314.214.585.485.8.798z\"\n                            transform=\"translate(-221 -954) translate(221 954) rotate(90 11 15)\" />\n                        </g>\n                      </g>\n                    </g>    \n                  </svg>\n                  <svg class=\"sp-pause-icon sp-hidden\" width=\"17\" height=\"22\" viewBox=\"6 4 12 16\">\n                    <path d=\"M14.016 5.016h3.984v13.969h-3.984v-13.969zM6 18.984v-13.969h3.984v13.969h-3.984z\"></path>\n                  </svg>`;\n        this.htmlElement.append(this.playButtonElement);\n\n    }\n\n    public showPlay() : void{\n        this.playButtonElement.querySelector(\".sp-play-icon\").classList.remove(\"sp-hidden\");\n        this.playButtonElement.querySelector(\".sp-pause-icon\").classList.add(\"sp-hidden\");\n    }\n\n    public showPause() : void{\n        this.playButtonElement.querySelector(\".sp-play-icon\").classList.add(\"sp-hidden\");\n        this.playButtonElement.querySelector(\".sp-pause-icon\").classList.remove(\"sp-hidden\");\n    }\n\n    protected attachListeners() : void {\n        let that = this;\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_CREATED, function() {\n\n            that.stormPlayer.getLibrary().addEventListener(\"interactionRequired\", function (e:any) {\n                that.showPlay();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoConnecting\", function(){\n                that.showPause();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoPlay\", function () {\n                that.showPause();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoConnecting\", function () {\n                that.showPause();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoPause\", function () {\n                that.showPlay();\n            });\n        });\n\n        this.playButtonElement.addEventListener(\"click\", function(e){\n            if(!that.playButtonElement.querySelector(\".sp-play-icon\").classList.contains('sp-hidden'))\n                that.stormPlayer.dispatch(EventType.PLAY_CLICKED);\n            else\n                that.stormPlayer.dispatch(EventType.PAUSE_CLICKED);\n\n        });\n\n    }\n}\n","import {GraphicElement} from \"../GraphicElement\";\nimport {StormPlayer} from \"../../StormPlayer\";\nimport {EventType} from \"../../events/EventType\";\n\nexport class VolumeElement extends GraphicElement {\n\n    /*\n    Volume button\n     */\n    private volumeButtonElement : HTMLButtonElement;\n\n    /*\n    Volume control\n     */\n    private volumeControlWrapperElement : HTMLElement;\n    private volumeInputElement : HTMLInputElement;\n    private volumeProgressWrapperElement : HTMLElement;\n    private volumeProgressElement : HTMLElement;\n\n    private hideTimeoutSeconds : number = 3;\n    private hideTimeout : ReturnType<typeof setTimeout>;\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-volume');\n\n    }\n\n    public showMute() : void{\n        this.volumeButtonElement.querySelector(\".sp-mute-icon\").classList.remove(\"sp-hidden\");\n        this.volumeButtonElement.querySelector(\".sp-unmute-icon\").classList.add(\"sp-hidden\");\n    }\n\n    public showUnMute() : void{\n        this.volumeButtonElement.querySelector(\".sp-mute-icon\").classList.add(\"sp-hidden\");\n        this.volumeButtonElement.querySelector(\".sp-unmute-icon\").classList.remove(\"sp-hidden\");\n    }\n\n    public setVolume(percent:any) : void{\n        if(this.stormPlayer.getLibraryManager().getConfig().settings.audio && this.stormPlayer.getLibraryManager().getConfig().settings.audio.maxVolume && percent > this.stormPlayer.getLibraryManager().getConfig().settings.audio.maxVolume)\n            percent = this.stormPlayer.getLibraryManager().getConfig().settings.audio.maxVolume;\n\n        let px = (percent*70)/100;\n        this.volumeProgressElement.style.transform = `translateX(${px}px)`;\n\n        this.stormPlayer.dispatch(EventType.VOLUME_CHANGED, {volume: percent});\n    }\n\n    public resetHideTimeout() : void{\n        if (this.hideTimeout)\n            clearTimeout(this.hideTimeout);\n\n        var that = this;\n        this.hideTimeout = setTimeout(function () {\n            that.volumeButtonElement.classList.remove(\"sp-active\");\n            that.volumeControlWrapperElement.classList.add('sp-hidden');\n        }, this.hideTimeoutSeconds * 1000);\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.volumeButtonElement = document.createElement(\"button\");\n        this.volumeButtonElement.className = 'sp-volume__button';\n        this.volumeButtonElement.innerHTML = `\n                <svg class=\"sp-mute-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"21\" viewBox=\"0 0 28 21\">\n                    <g transform=\"translate(0 0)\">\n                        <path d=\"M22.486,20.649l-.161-.157a1.183,1.183,0,0,1-.072-1.622,12.59,12.59,0,0,0-.216-16.715A1.182,1.182,0,0,1,22.086.511l.16-.157a1.2,1.2,0,0,1,.9-.353,1.235,1.235,0,0,1,.881.4,15.171,15.171,0,0,1,.257,20.171A1.237,1.237,0,0,1,23.4,21h-.051A1.236,1.236,0,0,1,22.486,20.649Zm-11.419-.916-6.45-5.259H1.18A1.171,1.171,0,0,1,0,13.313V8.688A1.17,1.17,0,0,1,1.18,7.527H4.616l6.45-5.26a1.2,1.2,0,0,1,1.255-.157A1.162,1.162,0,0,1,13,3.162V18.839a1.158,1.158,0,0,1-.679,1.05,1.193,1.193,0,0,1-1.255-.157Zm7.2-3.217-.165-.161a1.182,1.182,0,0,1-.118-1.564,6.863,6.863,0,0,0-.189-8.554,1.182,1.182,0,0,1,.085-1.606l.164-.16a1.212,1.212,0,0,1,.928-.35,1.234,1.234,0,0,1,.888.439,9.455,9.455,0,0,1,.256,11.825,1.233,1.233,0,0,1-.895.479c-.03,0-.059,0-.088,0A1.239,1.239,0,0,1,18.266,16.516Z\" fill=\"#fff\"/>\n                    </g>\n                </svg>\n                <svg class=\"sp-unmute-icon sp-hidden\" version=1.1 id=Layer_1\" xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px viewBox=\"0 -2 28 21\" xml:space=preserve>\n                    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                        <g id=\"PLAYER-@go-back\" transform=\"translate(-255.000000, -966.000000)\" fill=\"#FFFFFF\">\n                            <g id=\"Group-4\" transform=\"translate(255.000000, 966.000000)\">\n                                <polygon id=\"Fill-1\" points=\"24.364 5 22.066 7.298 19.768 5 18 6.768 20.298 9.065 18 11.364 19.768 13.132 22.066 10.834 24.364 13.132 26.132 11.364 23.834 9.065 26.132 6.768\"></polygon>\n                                <g id=\"VOLUME-CONTROLLER\" fill-rule=\"nonzero\">\n                                    <path d=\"M12.3213457,17.8895415 C12.1613173,17.9640048 11.9898384,18 11.8194767,18 C11.5496906,18 11.2824181,17.9087756 11.0665335,17.7326465 L4.61568703,12.4735047 L1.17996477,12.4735047 C0.528400791,12.4740542 0,11.9539102 0,11.3128665 L0,6.68762428 C0,6.04630572 0.528400791,5.52643653 1.17996477,5.52643653 L4.61596631,5.52643653 L11.0668128,0.267294644 C11.4192661,-0.020117185 11.9080089,-0.0813914086 12.321625,0.110949204 C12.735241,0.301915954 13,0.711326686 13,1.16140372 L12.9997207,16.839087 C12.9997207,17.2894388 12.735241,17.6985748 12.3213457,17.8895415 Z\" id=\"volume-icon\"></path>\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n            `;\n\n        this.htmlElement.append(this.volumeButtonElement);\n\n        this.volumeControlWrapperElement = document.createElement(\"div\");\n        this.volumeControlWrapperElement.className = 'sp-volume__wrapper sp-hidden';\n        this.htmlElement.append(this.volumeControlWrapperElement);\n\n        this.volumeInputElement = document.createElement(\"input\");\n        this.volumeInputElement.className = 'sp-volume__input';\n        this.volumeInputElement.setAttribute(\"value\", \"1\");\n        this.volumeInputElement.setAttribute(\"data-mute\", \"0.5\");\n        this.volumeInputElement.setAttribute(\"type\", \"range\");\n        this.volumeInputElement.setAttribute(\"max\", \"1\");\n        this.volumeInputElement.setAttribute(\"min\", \"0\");\n        this.volumeInputElement.setAttribute(\"step\", \"0.01\");\n        this.volumeControlWrapperElement.append(this.volumeInputElement);\n\n        this.volumeProgressWrapperElement = document.createElement(\"div\");\n        this.volumeProgressWrapperElement.className = 'sp-volume__progress';\n        this.volumeControlWrapperElement.append(this.volumeProgressWrapperElement);\n\n        this.volumeProgressElement = document.createElement(\"div\");\n        this.volumeProgressElement.className = 'sp-volume__thumb';\n        this.volumeProgressElement.style.transform = 'translateX(24px)';\n        this.volumeProgressWrapperElement.appendChild(this.volumeProgressElement);\n\n\n    }\n\n    protected attachListeners(): void {\n        let that = this;\n\n\n        if(!this.stormPlayer.isTouchDevice()) {\n            this.htmlElement.addEventListener(\"mousemove\", function () {\n                if(!that.stormPlayer.getLibrary().isMute()) {\n                    that.volumeControlWrapperElement.classList.remove('sp-hidden');\n                    that.resetHideTimeout();\n                }\n            });\n\n            this.volumeInputElement.addEventListener(\"mousemove\", function(){\n                that.resetHideTimeout();\n            });\n\n            this.stormPlayer.addEventListener(EventType.MUTE_CLICKED, function(){\n                that.volumeButtonElement.classList.remove(\"sp-active\");\n                that.volumeControlWrapperElement.classList.add('sp-hidden');\n            });\n\n            this.stormPlayer.addEventListener(EventType.UNMUTE_CLICKED, function(){\n\n            });\n        }\n\n        this.stormPlayer.addEventListener(EventType.GUI_HIDED, function(){\n            that.volumeButtonElement.classList.remove(\"sp-active\");\n            that.volumeControlWrapperElement.classList.add('sp-hidden');\n        });\n\n        this.volumeInputElement.addEventListener(\"input\",function(){\n            that.setVolume(parseFloat(this.value)*100);\n            that.resetHideTimeout();\n        });\n\n        this.volumeButtonElement.addEventListener(\"click\", function(e){\n            if(that.volumeButtonElement.querySelector(\".sp-mute-icon\").classList.contains('sp-hidden'))\n                that.stormPlayer.dispatch(EventType.UNMUTE_CLICKED);\n            else\n                that.stormPlayer.dispatch(EventType.MUTE_CLICKED);\n        });\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_INITIALIZED, function() {\n            that.stormPlayer.getLibrary().addEventListener(\"volumeChange\", function(event:any){\n\n                that.setVolume(event.volume);\n                if(event.isMuted)\n                    that.showUnMute();\n                else\n                    that.showMute();\n\n            });\n        });\n\n    }\n\n}\n","import {GraphicElement} from \"../GraphicElement\";\nimport {StormPlayer} from \"../../StormPlayer\";\nimport {EventType} from \"../../events/EventType\";\n\nexport class QualityMenuElement extends GraphicElement {\n\n\n    private spMenuBoxElement : GraphicElement;\n    private listItems : Array<HTMLElement> = [];\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-menu sp-menu__quality sp-menu--hidden');\n\n    }\n\n    public setCurrentItem() : void{\n        let currentLabel = this.stormPlayer.getLibrary().getCurrentQuality();\n\n        for(let i=0;i<this.listItems.length;i++){\n            if(this.listItems[i].getAttribute(\"data-label\") == currentLabel)\n                this.listItems[i].classList.add('sp-menu__list-item__active');\n            else\n                this.listItems[i].classList.remove('sp-menu__list-item__active');\n        }\n\n    }\n\n    public refreshList() : void{\n\n        this.spMenuBoxElement.getHtmlElement().querySelector(\"ul\").innerHTML = '';\n        this.listItems = [];\n\n        let that = this;\n        let list = this.stormPlayer.getLibrary().getAllSources();\n\n        for(let i=0;i<list.length;i++){\n\n            let menuPosition = document.createElement('li');\n            menuPosition.setAttribute(\"data-label\",list[i].streamInfo.label)\n            menuPosition.classList.add('sp-menu__list-item');\n            menuPosition.innerHTML = `<span>${list[i].streamInfo.label}</span>\n                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\n                            <g fill=\"none\" fill-rule=\"evenodd\">\n                                <g>\n                                    <g>\n                                        <g>\n                                            <path d=\"M0 0L24 0 24 24 0 24z\" transform=\"translate(-400 -664) translate(234 554) translate(166 110)\"></path>\n                                            <path fill=\"#FFF\" fill-rule=\"nonzero\" d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" transform=\"translate(-400 -664) translate(234 554) translate(166 110)\"></path>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>`;\n            this.listItems.push(menuPosition);\n            this.spMenuBoxElement.getHtmlElement().querySelector(\"ul\").appendChild(menuPosition);\n            menuPosition.addEventListener(\"click\",function(){\n                that.stormPlayer.dispatch(EventType.QUALITY_CHANGED, {label: this.getAttribute(\"data-label\")})\n                that.getHtmlElement().classList.add(\"sp-menu--hidden\");\n            });\n        }\n\n        this.setCurrentItem();\n\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.spMenuBoxElement = new GraphicElement(this.stormPlayer, 'sp-menu__box');\n        this.htmlElement.appendChild(this.spMenuBoxElement.getHtmlElement());\n\n        this.spMenuBoxElement.getHtmlElement().innerHTML = `<ul class=\"sp-menu__list\"></ul>`;\n    }\n\n    protected attachListeners(): void {\n        let that = this;\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_INITIALIZED, function() {\n            that.refreshList();\n\n            that.stormPlayer.getLibrary().addEventListener(\"newStreamSourceAdded\", function () {\n                that.refreshList();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoConnecting\", function(){\n                that.setCurrentItem();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoPlay\", function(){\n                that.setCurrentItem();\n            });\n        });\n\n        this.stormPlayer.addEventListener(EventType.QUALITY_CLICKED, function(){\n            that.getHtmlElement().classList.toggle(\"sp-menu--hidden\");\n        });\n\n        this.stormPlayer.addEventListener(EventType.GUI_HIDED, function(){\n            that.getHtmlElement().classList.add(\"sp-menu--hidden\");\n        });\n\n        document.addEventListener(\"click\", function(e){\n            if(!(e.target as HTMLElement).classList.contains(\"sp-controls__button\"))\n                that.getHtmlElement().classList.add(\"sp-menu--hidden\");\n        });\n    }\n\n\n}\n","import {GraphicElement} from \"../GraphicElement\";\nimport {StormPlayer} from \"../../StormPlayer\";\nimport {EventType} from \"../../events/EventType\";\nimport {QualityMenuElement} from \"./QualityMenuElement\";\n\nexport class QualityElement extends GraphicElement {\n\n    private qualityMenuElement : QualityMenuElement;\n    private qualityButtonElement : HTMLButtonElement;\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-resolution sp-hidden');\n\n    }\n\n    protected refreshButton() : void{\n\n        if(this.stormPlayer.getLibrary().getAllSources().length == 1)\n            this.hide();\n        else\n            this.show();\n\n        this.qualityButtonElement.innerHTML = `<span>${this.stormPlayer.getLibrary().getCurrentQuality()}</span>`;\n\n\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.qualityButtonElement = document.createElement(\"button\");\n        this.qualityButtonElement.className = 'sp-controls__button';\n\n        this.htmlElement.append(this.qualityButtonElement);\n\n        this.qualityMenuElement = new QualityMenuElement(this.stormPlayer);\n        this.htmlElement.appendChild(this.qualityMenuElement.getHtmlElement());\n\n    }\n\n    protected attachListeners(): void {\n        let that = this;\n        this.qualityButtonElement.addEventListener(\"click\", function(){\n            that.stormPlayer.dispatch(EventType.QUALITY_CLICKED);\n        });\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_INITIALIZED, function() {\n\n            that.refreshButton();\n\n            that.stormPlayer.getLibrary().addEventListener(\"newStreamSourceAdded\", function () {\n                that.refreshButton();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoConnecting\", function(){\n                that.refreshButton();\n            });\n\n            that.stormPlayer.getLibrary().addEventListener(\"videoPlay\", function(){\n                that.refreshButton();\n            });\n\n        });\n\n    }\n}\n","import {GraphicElement} from \"../GraphicElement\";\nimport {StormPlayer} from \"../../StormPlayer\";\n\nexport class SubtitlesElement extends GraphicElement {\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-controls__button', 'button');\n\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.htmlElement.innerHTML = '<span>CC</span>';\n\n        this.htmlElement.setAttribute('data-title', \"Subtitles\");\n    }\n\n}","import {GraphicElement} from \"../GraphicElement\";\nimport {StormPlayer} from \"../../StormPlayer\";\nimport {EventType} from \"../../events/EventType\";\n\nexport class FullscreenElement extends GraphicElement {\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-controls__fullscreen', 'button');\n\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.htmlElement.innerHTML = `\n                <svg class=\"fullscreen-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"27\" height=\"27\" viewBox=\"0 0 27 27\">\n                  <g fill=\"none\" fill-rule=\"evenodd\">\n                    <g fill=\"#FFF\" fill-rule=\"nonzero\">\n                      <path\n                        d=\"M1.5 17c.828 0 1.5.672 1.5 1.5v5h5c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5H1.5C.672 26.5 0 25.828 0 25v-6.5c0-.828.672-1.5 1.5-1.5zM25 17c.828 0 1.5.672 1.5 1.5V25c0 .828-.672 1.5-1.5 1.5h-6.5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5h5v-5c0-.828.672-1.5 1.5-1.5zM8 0c.828 0 1.5.672 1.5 1.5S8.828 3 8 3H3v5c0 .828-.672 1.5-1.5 1.5S0 8.828 0 8V1.5C0 .672.672 0 1.5 0zm17 0c.828 0 1.5.672 1.5 1.5V8c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5V3h-5c-.828 0-1.5-.672-1.5-1.5S17.672 0 18.5 0H25z\"\n                        transform=\"translate(-1358 -956) translate(1358 956)\" />\n                    </g>\n                  </g>\n                </svg>\n                \n                <svg class=\"close-fullscreen-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"27\" height=\"27\" viewBox=\"0 0 27 27\">\n                <path d=\"M17.321,25.471V18.849a1.528,1.528,0,0,1,1.528-1.528h6.622a1.528,1.528,0,1,1,0,3.056H20.377v5.094a1.528,1.528,0,1,1-3.056,0Zm-10.7,0V20.377H1.529a1.528,1.528,0,1,1,0-3.056H8.151A1.528,1.528,0,0,1,9.68,18.849v6.622a1.528,1.528,0,1,1-3.056,0ZM18.849,9.68a1.528,1.528,0,0,1-1.528-1.528V1.529a1.528,1.528,0,1,1,3.056,0V6.623h5.094a1.528,1.528,0,1,1,0,3.056Zm-17.32,0a1.528,1.528,0,1,1,0-3.056H6.623V1.529a1.528,1.528,0,1,1,3.056,0V8.151A1.528,1.528,0,0,1,8.151,9.68Z\" fill=\"#fff\"/>\n                </svg>\n        `;\n\n    }\n\n    protected attachListeners() : void {\n        let that = this;\n\n        this.htmlElement.addEventListener(\"click\", function(e) {\n            // @ts-ignore: Unreachable code error\n            let enterFullscreen = document.webkitIsFullScreen === false || document.mozFullScreen === false || document.msFullscreenElement === false;\n\n            if (enterFullscreen)\n                that.stormPlayer.dispatch(EventType.FULLSCREEN_ENTERED);\n            else\n                that.stormPlayer.dispatch(EventType.FULLSCREEN_EXITED);\n        });\n\n        this.stormPlayer.addEventListener(EventType.FULLSCREEN_ENTERED, function(){\n            that.htmlElement.classList.add('sp-active');\n        });\n\n        this.stormPlayer.addEventListener(EventType.FULLSCREEN_EXITED, function(){\n            that.htmlElement.classList.remove('sp-active');\n        });\n\n    }\n}\n","import {GraphicElement} from \"../GraphicElement\";\nimport {StormPlayer} from \"../../StormPlayer\";\nimport {PlayElement} from \"./PlayElement\";\nimport {VolumeElement} from \"./VolumeElement\";\nimport {QualityElement} from \"./QualityElement\";\nimport {SubtitlesElement} from \"./SubtitlesElement\";\nimport {FullscreenElement} from \"./FullscreenElement\";\n\nexport class ControlButtonsElement extends GraphicElement {\n\n\n    /*\n    Control buttons\n     */\n    private playElement : PlayElement;\n    private volumeElement : VolumeElement;\n    private qualityElement : QualityElement;\n\n    //private subtitlesElement : SubtitlesElement;\n    private fullscreenElement : FullscreenElement;\n\n    /*\n    Buttons wrapper\n     */\n    private leftWrapper : GraphicElement;\n    private rightWrapper : GraphicElement;\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-controls__bottom');\n\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        /*\n        Creating wrapper\n         */\n        this.leftWrapper = new GraphicElement(this.stormPlayer, \"sp-controls__left\");\n        this.htmlElement.appendChild(this.leftWrapper.getHtmlElement());\n\n        this.rightWrapper = new GraphicElement(this.stormPlayer, \"sp-controls__right\");\n        this.htmlElement.appendChild(this.rightWrapper.getHtmlElement());\n\n        /*\n        Creating control buttons\n         */\n        this.playElement = new PlayElement(this.stormPlayer);\n        this.leftWrapper.getHtmlElement().appendChild(this.playElement.getHtmlElement());\n\n        this.volumeElement = new VolumeElement(this.stormPlayer);\n        this.leftWrapper.getHtmlElement().appendChild(this.volumeElement.getHtmlElement());\n\n        this.qualityElement = new QualityElement(this.stormPlayer);\n        this.leftWrapper.getHtmlElement().appendChild(this.qualityElement.getHtmlElement());\n\n        //this.subtitlesElement = new SubtitlesElement(this.stormPlayer);\n        //this.rightWrapper.getHtmlElement().appendChild(this.subtitlesElement.getHtmlElement());\n\n        this.fullscreenElement = new FullscreenElement(this.stormPlayer);\n        this.rightWrapper.getHtmlElement().appendChild(this.fullscreenElement.getHtmlElement());\n    }\n\n}","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {ProgressbarElement} from \"./ProgressbarElement\";\nimport {ControlButtonsElement} from \"./controlbuttons/ControlButtonsElement\";\nimport {EventType} from \"../events/EventType\";\n\nexport class ControlElement extends GraphicElement {\n\n    private shadowElement: GraphicElement;\n    private progressbarElement : ProgressbarElement;\n    private controlButtonsElement : ControlButtonsElement;\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-controls');\n\n    }\n\n    public show(): void {\n        this.htmlElement.classList.remove(\"sp-controls--hidden\");\n    }\n\n    public hide(): void {\n        this.htmlElement.classList.add(\"sp-controls--hidden\");\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        this.shadowElement = new GraphicElement(this.stormPlayer, \"sp-controls__shadow\");\n        this.htmlElement.appendChild(this.shadowElement.getHtmlElement());\n\n        this.progressbarElement = new ProgressbarElement(this.stormPlayer);\n        this.htmlElement.appendChild(this.progressbarElement.getHtmlElement());\n\n        this.controlButtonsElement = new ControlButtonsElement(this.stormPlayer);\n        this.htmlElement.appendChild(this.controlButtonsElement.getHtmlElement());\n\n        let that = this;\n\n        this.stormPlayer.addEventListener(EventType.GUI_SHOWN, function(){\n            that.show();\n        });\n\n        this.stormPlayer.addEventListener(EventType.GUI_HIDED, function(){\n            that.hide();\n        });\n    }\n\n}","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {EventType} from \"../events/EventType\";\n\nexport class UnmuteElement extends GraphicElement {\n\n    constructor(stormPlayer: StormPlayer) {\n\n        super(stormPlayer, 'sp-unmute sp-unmute__afterheader');\n\n    }\n\n    protected draw() : void {\n        super.draw();\n        this.htmlElement.innerHTML =\n            `\n                <svg class=\"sp-unmute-icon\" version=1.1 id=Layer_1\" xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=10px y=10px viewBox=\"0 -2 28 21\" xml:space=preserve>\n                    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                        <g id=\"PLAYER-@go-back\" transform=\"translate(-255.000000, -966.000000)\" fill=\"#000\">\n                            <g id=\"Group-4\" transform=\"translate(255.000000, 966.000000)\">\n                                <polygon id=\"Fill-1\" points=\"24.364 5 22.066 7.298 19.768 5 18 6.768 20.298 9.065 18 11.364 19.768 13.132 22.066 10.834 24.364 13.132 26.132 11.364 23.834 9.065 26.132 6.768\"></polygon>\n                                <g id=\"VOLUME-CONTROLLER\" fill-rule=\"nonzero\">\n                                    <path d=\"M12.3213457,17.8895415 C12.1613173,17.9640048 11.9898384,18 11.8194767,18 C11.5496906,18 11.2824181,17.9087756 11.0665335,17.7326465 L4.61568703,12.4735047 L1.17996477,12.4735047 C0.528400791,12.4740542 0,11.9539102 0,11.3128665 L0,6.68762428 C0,6.04630572 0.528400791,5.52643653 1.17996477,5.52643653 L4.61596631,5.52643653 L11.0668128,0.267294644 C11.4192661,-0.020117185 11.9080089,-0.0813914086 12.321625,0.110949204 C12.735241,0.301915954 13,0.711326686 13,1.16140372 L12.9997207,16.839087 C12.9997207,17.2894388 12.735241,17.6985748 12.3213457,17.8895415 Z\" id=\"volume-icon\"></path>\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n                ${this.stormPlayer.getGuiConfig().getUnmuteText()}\n            `;\n\n        if(!this.stormPlayer.getGuiConfig().getTitle() && this.stormPlayer.getGuiConfig().getTitle() == \"\" && this.stormPlayer.getGuiConfig().getSubtitle() && this.stormPlayer.getGuiConfig().getSubtitle() == \"\")\n            this.getHtmlElement().classList.remove('sp-unmute__afterheader');\n\n        this.hide();\n    }\n\n    protected attachListeners(): void {\n        let that = this;\n\n        this.stormPlayer.addEventListener(EventType.GUI_SHOWN, function(){\n            if(that.stormPlayer.getGuiConfig().getTitle() || that.stormPlayer.getGuiConfig().getSubtitle())\n                that.getHtmlElement().classList.add('sp-unmute__afterheader');\n        });\n\n        this.stormPlayer.addEventListener(EventType.GUI_HIDED, function(){\n            that.getHtmlElement().classList.remove('sp-unmute__afterheader');\n        });\n\n        this.htmlElement.addEventListener(\"click\", function(){\n            that.stormPlayer.dispatch(EventType.UNMUTE_CLICKED);\n        });\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_INITIALIZED, function() {\n            that.stormPlayer.getLibrary().addEventListener(\"volumeChange\", function(event:any){\n                if(event.isMuted && event.type == 'browser')\n                    that.show();\n                else\n                    that.hide();\n\n            });\n        });\n\n        this.stormPlayer.addEventListener(EventType.TITLE_SETTED,function(){\n            if((that.stormPlayer.getGuiConfig().getTitle() && that.stormPlayer.getGuiConfig().getTitle() != \"\") || (that.stormPlayer.getGuiConfig().getSubtitle() && that.stormPlayer.getGuiConfig().getSubtitle() != \"\"))\n                that.getHtmlElement().classList.add('sp-unmute__afterheader');\n            else\n                that.getHtmlElement().classList.remove('sp-unmute__afterheader');\n        });\n\n        this.stormPlayer.addEventListener(EventType.SUBTITLE_SETTED,function(){\n            if((that.stormPlayer.getGuiConfig().getTitle() && that.stormPlayer.getGuiConfig().getTitle() != \"\") || (that.stormPlayer.getGuiConfig().getSubtitle() && that.stormPlayer.getGuiConfig().getSubtitle() != \"\"))\n                that.getHtmlElement().classList.add('sp-unmute__afterheader');\n            else\n                that.getHtmlElement().classList.remove('sp-unmute__afterheader');\n        });\n\n    }\n}\n","import {GraphicElement} from \"./GraphicElement\";\nimport {StormPlayer} from \"../StormPlayer\";\nimport {VideoElement} from \"./VideoElement\";\nimport {LoaderElement} from \"./LoaderElement\";\nimport {ErrorElement} from \"./ErrorElement\";\nimport {PlaybackElement} from \"./PlaybackElement\";\nimport {HeaderElement} from \"./HeaderElement\";\nimport {ControlElement} from \"./ControlElement\";\nimport {EventType} from \"../events/EventType\";\nimport {UnmuteElement} from \"./UnmuteElement\";\n\nexport class MainElement extends GraphicElement {\n\n    /*\n    Main GUI elements\n    */\n    private videoElement : VideoElement;\n    private loaderElement : LoaderElement;\n    private errorElement : ErrorElement;\n    private playbackElement : PlaybackElement;\n    private headerElement : HeaderElement;\n    private controlElement : ControlElement;\n    private unmuteElement : UnmuteElement;\n\n    /*\n    All MainElement objects will be added to this wrapper\n     */\n    private spContainer: GraphicElement;\n\n    /*\n    Hide GUI timer\n     */\n    private hideGUITimeoutSeconds : number;\n    private hideGUITimeout : ReturnType<typeof setTimeout>;\n\n    constructor(stormPlayer: StormPlayer) {\n        super(stormPlayer, 'sp-container__wrapper');\n        this.hideGUITimeoutSeconds = stormPlayer.getGuiConfig().getGuiHideSeconds();\n    }\n\n    public setSize(width : number, height : number){\n        this.htmlElement.style.maxWidth = width+'px';\n        this.spContainer.getHtmlElement().style.height = height+'px';\n        this.stormPlayer.getLibrary().setSize(width, height);\n    }\n\n    public getHeaderElement() : HeaderElement{\n        return this.headerElement;\n    }\n\n    protected draw() : void{\n        super.draw();\n\n        /*\n        Creating wrapper\n         */\n        this.spContainer = new GraphicElement(this.stormPlayer, \"sp-container\");\n        this.htmlElement.appendChild(this.spContainer.getHtmlElement());\n\n        /*\n        Adding elements to a wrapper\n         */\n        this.videoElement = new VideoElement(this.stormPlayer);\n        this.spContainer.getHtmlElement().appendChild(this.videoElement.getHtmlElement());\n\n        this.loaderElement = new LoaderElement(this.stormPlayer);\n        this.spContainer.getHtmlElement().appendChild(this.loaderElement.getHtmlElement());\n\n        this.errorElement = new ErrorElement(this.stormPlayer);\n        this.spContainer.getHtmlElement().appendChild(this.errorElement.getHtmlElement());\n\n        this.playbackElement = new PlaybackElement(this.stormPlayer);\n        this.spContainer.getHtmlElement().appendChild(this.playbackElement.getHtmlElement());\n\n        this.headerElement = new HeaderElement(this.stormPlayer);\n        this.spContainer.getHtmlElement().appendChild(this.headerElement.getHtmlElement());\n\n        this.unmuteElement = new UnmuteElement(this.stormPlayer);\n        this.spContainer.getHtmlElement().appendChild(this.unmuteElement.getHtmlElement());\n\n        this.controlElement = new ControlElement(this.stormPlayer);\n        this.spContainer.getHtmlElement().appendChild(this.controlElement.getHtmlElement());\n\n    }\n\n\n    protected attachListeners(): void {\n        let that = this;\n        let spContainerElement = this.spContainer.getHtmlElement();\n\n        /*\n        Hide GUI events\n         */\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_INITIALIZED, function() {\n            that.stormPlayer.getLibrary().addEventListener(\"videoPlay\", function () {\n                if (!that.hideGUITimeout) {\n                    that.hideGUITimeout = setTimeout(function () {\n                        if (that.stormPlayer.getLibrary().isPlaying())\n                            that.stormPlayer.dispatch(EventType.GUI_HIDED);\n                    }, that.hideGUITimeoutSeconds * 1000);\n                }\n            });\n        });\n\n        this.htmlElement.addEventListener(\"mouseenter\", function(){\n            if(that.hideGUITimeout)\n                clearTimeout(that.hideGUITimeout);\n            that.stormPlayer.dispatch(EventType.GUI_SHOWN);\n        });\n\n        this.htmlElement.addEventListener(\"mouseleave\", function(){\n            if(that.hideGUITimeout)\n                clearTimeout(that.hideGUITimeout);\n            if(that.stormPlayer.getLibrary().isPlaying())\n                that.stormPlayer.dispatch(EventType.GUI_HIDED);\n        });\n\n        this.htmlElement.addEventListener(\"mousemove\", function(){\n            if(that.hideGUITimeout)\n                clearTimeout(that.hideGUITimeout);\n            that.stormPlayer.dispatch(EventType.GUI_SHOWN);\n\n            that.hideGUITimeout = setTimeout(function(){\n                if(that.stormPlayer.getLibrary().isPlaying())\n                    that.stormPlayer.dispatch(EventType.GUI_HIDED);\n            },that.hideGUITimeoutSeconds*1000);\n        });\n\n        /*\n        Turn off cursor after hiding GUI\n         */\n\n        this.stormPlayer.addEventListener(EventType.GUI_SHOWN, function(){\n            that.spContainer.getHtmlElement().classList.remove('sp-container__disablecursor');\n        });\n\n        this.stormPlayer.addEventListener(EventType.GUI_HIDED, function(){\n            that.spContainer.getHtmlElement().classList.add('sp-container__disablecursor');\n        });\n\n        /*\n        Fullscreen events\n         */\n\n        this.stormPlayer.addEventListener(EventType.FULLSCREEN_ENTERED, function(){\n            spContainerElement.classList.add('sp-fullscreen');\n\n            const docElmWithBrowsersFullScreenFunctions = spContainerElement as HTMLElement & {\n                mozRequestFullScreen(): Promise<void>;\n                webkitRequestFullscreen(): Promise<void>;\n                msRequestFullscreen(): Promise<void>;\n            };\n\n            if (docElmWithBrowsersFullScreenFunctions.requestFullscreen) {\n                docElmWithBrowsersFullScreenFunctions.requestFullscreen();\n            } else if (docElmWithBrowsersFullScreenFunctions.mozRequestFullScreen) { /* Firefox */\n                docElmWithBrowsersFullScreenFunctions.mozRequestFullScreen();\n            } else if (docElmWithBrowsersFullScreenFunctions.webkitRequestFullscreen) { /* Chrome, Safari and Opera */\n                docElmWithBrowsersFullScreenFunctions.webkitRequestFullscreen();\n            } else if (docElmWithBrowsersFullScreenFunctions.msRequestFullscreen) { /* IE/Edge */\n                docElmWithBrowsersFullScreenFunctions.msRequestFullscreen();\n            }\n\n        });\n\n        this.stormPlayer.addEventListener(EventType.FULLSCREEN_EXITED, function(){\n            spContainerElement.classList.remove('sp-fullscreen');\n\n            const docWithBrowsersExitFunctions = document as Document & {\n                mozCancelFullScreen(): Promise<void>;\n                webkitExitFullscreen(): Promise<void>;\n                msExitFullscreen(): Promise<void>;\n            };\n            if (docWithBrowsersExitFunctions.exitFullscreen) {\n                docWithBrowsersExitFunctions.exitFullscreen();\n            } else if (docWithBrowsersExitFunctions.mozCancelFullScreen) { /* Firefox */\n                docWithBrowsersExitFunctions.mozCancelFullScreen();\n            } else if (docWithBrowsersExitFunctions.webkitExitFullscreen) { /* Chrome, Safari and Opera */\n                docWithBrowsersExitFunctions.webkitExitFullscreen();\n            } else if (docWithBrowsersExitFunctions.msExitFullscreen) { /* IE/Edge */\n                docWithBrowsersExitFunctions.msExitFullscreen();\n            }\n        });\n\n\n        document.addEventListener('fullscreenchange', function(){\n\n            // @ts-ignore: Unreachable code error\n            if(document.webkitIsFullScreen === false || document.mozFullScreen === false || document.msFullscreenElement === false)\n                that.stormPlayer.dispatch(EventType.FULLSCREEN_EXITED);\n\n        }, false);\n\n        document.addEventListener('mozfullscreenchange', function(){\n            // @ts-ignore: Unreachable code error\n            if(document.webkitIsFullScreen === false || document.mozFullScreen === false || document.msFullscreenElement === false)\n                that.stormPlayer.dispatch(EventType.FULLSCREEN_EXITED);\n        }, false);\n\n        document.addEventListener('MSFullscreenChange', function(){\n            // @ts-ignore: Unreachable code error\n            if(document.webkitIsFullScreen === false || document.mozFullScreen === false || document.msFullscreenElement === false)\n                that.stormPlayer.dispatch(EventType.FULLSCREEN_EXITED);\n        }, false);\n\n        document.addEventListener('webkitfullscreenchange', function(){\n            // @ts-ignore: Unreachable code error\n            if(document.webkitIsFullScreen === false || document.mozFullScreen === false || document.msFullscreenElement === false)\n                that.stormPlayer.dispatch(EventType.FULLSCREEN_EXITED);\n        }, false);\n\n    }\n\n}","import {Dispatcher} from \"./events/Dispatcher\";\nimport {MainElement} from \"./ui/MainElement\";\nimport {EventType} from \"./events/EventType\";\nimport {LibraryManager} from \"./LibraryManager\";\nimport {GUIConfig} from \"./GUIConfig\";\n\nexport class StormPlayer extends Dispatcher\n{\n\n    /*\n    Video container identifier for StormPlayer library video injection\n     */\n    private instanceID : string = \"StormPlayer-\"+Math.random().toString(36).substr(2, 9);\n\n    /*\n    Player GUI configuration\n     */\n    private guiConfig : GUIConfig;\n\n    /*\n    Main HTML element of GUI\n     */\n    private mainElement: MainElement;\n\n    /*\n    This object manages the StormPlayer library\n     */\n    private libraryManager : LibraryManager;\n\n    constructor(guiConfig : any, stormLibraryConfig : any, cuepoints : Array<any>) {\n        super();\n\n        this.guiConfig = new GUIConfig(guiConfig);\n\n        /*\n        Initializing StormPlayer library manager\n         */\n        this.libraryManager = new LibraryManager(stormLibraryConfig, this);\n\n        /*\n        Initializing main HTML element of player\n         */\n        this.mainElement = new MainElement(this);\n        document.getElementById(this.guiConfig.getContainerID()).appendChild(this.mainElement.getHtmlElement());\n        this.dispatch(EventType.GUI_INITIALIZED);\n\n        /*\n        Init config settings\n         */\n        this.setSize(guiConfig.width, guiConfig.height);\n        this.setTitle(this.guiConfig.getTitle());\n        this.setSubtitle(this.guiConfig.getSubtitle());\n\n        /*\n        Add cuepoints\n         */\n        let that = this;\n        this.addEventListener(EventType.LIBRARY_INITIALIZED, function(){\n            for(let i=0;i<cuepoints.length;i++){\n                that.addCuePoint(cuepoints[i].title, cuepoints[i].time);\n            }\n        });\n\n    }\n\n    public addCuePoint(title : string, time : number) : void{\n        this.dispatch(EventType.CUEPOINT_ADDED, {title: title, time : time});\n    }\n\n    public removeCuePoint(time : number) : void{\n        this.dispatch(EventType.CUEPOINT_REMOVED, {time : time});\n    }\n\n\n    // @ts-ignore: Unreachable code error\n    public getLibrary() : StormLibrary{\n        return this.libraryManager.getLibrary();\n    }\n\n    public getInstanceID() : string{\n        return this.instanceID;\n    }\n\n    public setSize(width : number, height : number) : void{\n        this.mainElement.setSize(width, height);\n    }\n\n    public setTitle(title : string) : void{\n        this.guiConfig.setTitle(title);\n        this.mainElement.getHeaderElement().setTitle(title);\n    }\n\n    public setSubtitle(subtitle : string) : void{\n        this.guiConfig.setSubtitle(subtitle);\n        this.mainElement.getHeaderElement().setSubtitle(subtitle);\n    }\n\n    public getGuiConfig() : GUIConfig{\n        return this.guiConfig;\n    }\n\n    public getLibraryManager() : LibraryManager{\n        return this.libraryManager;\n    }\n\n    public isTouchDevice() : boolean{\n        return (('ontouchstart' in window) ||\n            (navigator.maxTouchPoints > 0) ||\n            (navigator.msMaxTouchPoints > 0));\n    }\n\n}\n","import {StormPlayer} from \"./StormPlayer\";\nimport {EventType} from \"./events/EventType\";\n\nexport class LibraryManager\n{\n\n    private stormPlayer : StormPlayer;\n    private config : any;\n    // @ts-ignore\n    private library : StormLibrary;\n\n    constructor(config : any, stormPlayer : StormPlayer) {\n        this.stormPlayer = stormPlayer;\n\n        this.config = config;\n\n        /*\n        Override config variables\n        */\n        this.config.settings.video.containerID = stormPlayer.getInstanceID();\n        this.config.settings.video.width = stormPlayer.getGuiConfig().getWitdth();\n        this.config.settings.video.height = stormPlayer.getGuiConfig().getHeight();\n\n        this.attachListeners();\n    }\n\n    public getConfig() : any{\n        return this.config;\n    }\n\n    // @ts-ignore\n    public getLibrary() : StormLibrary{\n        return this.library;\n    }\n\n    public initializeLibrary() : void{\n\n        // @ts-ignore\n        this.library = new StormLibrary(this.config);\n        this.stormPlayer.dispatch(EventType.LIBRARY_CREATED);\n        this.library.initialize();\n        this.stormPlayer.dispatch(EventType.LIBRARY_INITIALIZED);\n\n    }\n\n    private attachListeners() : void{\n        let that = this;\n\n        this.stormPlayer.addEventListener(EventType.GUI_INITIALIZED, function(){\n            that.initializeLibrary();\n        });\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_CREATED, function() {\n\n            that.getLibrary().addEventListener(\"videoObjectCreation\", function () {\n               document.querySelector('#' + that.stormPlayer.getInstanceID() + ' video').classList.add('sp-video');\n            });\n\n        });\n\n        this.stormPlayer.addEventListener(EventType.LIBRARY_INITIALIZED, function(){\n\n            that.stormPlayer.addEventListener(EventType.PLAY_CLICKED, function(){\n                that.getLibrary().play();\n            });\n\n            that.stormPlayer.addEventListener(EventType.PAUSE_CLICKED, function(){\n                that.getLibrary().pause();\n            });\n\n            that.stormPlayer.addEventListener(EventType.MUTE_CLICKED, function(){\n                that.getLibrary().mute();\n            });\n\n            that.stormPlayer.addEventListener(EventType.UNMUTE_CLICKED, function(){\n                that.getLibrary().unmute();\n            });\n\n            that.stormPlayer.addEventListener(EventType.TOGGLE_CLICKED, function(){\n                that.getLibrary().togglePlay();\n            });\n\n            that.stormPlayer.addEventListener(EventType.VOLUME_CHANGED, function(e:any){\n                that.getLibrary().setVolume(e.volume);\n            });\n\n            that.stormPlayer.addEventListener(EventType.QUALITY_CHANGED, function(e:any){\n                that.getLibrary().setQuality(e.label);\n            });\n\n            that.stormPlayer.addEventListener(EventType.SEEK_SETTED, function(e:any){\n                that.getLibrary().seek(e.seekToTime);\n            });\n\n            that.stormPlayer.addEventListener(EventType.FULLSCREEN_ENTERED, function(){\n                that.getLibrary().setSize(window.screen.width, window.screen.height);\n            });\n\n            that.stormPlayer.addEventListener(EventType.FULLSCREEN_EXITED, function(){\n                that.getLibrary().setSize(that.getConfig().settings.video.width, that.getConfig().settings.video.height);\n            });\n\n        });\n\n    }\n\n}"]}